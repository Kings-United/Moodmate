{"ast":null,"code":"import React,{useState,useEffect}from'react';import TextArea from'./TextArea';import MoodSlider from'./MoodSlider';import{EMOTIONS_LIST}from'../../utils/constants';import'./JournalEntryForm.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const JournalEntryForm=_ref=>{let{entry=null,onSave,onCancel,isNew=false,isEditing=false}=_ref;const[content,setContent]=useState('');const[mood,setMood]=useState(5);const[emotions,setEmotions]=useState([]);const[loading,setLoading]=useState(false);useEffect(()=>{if(entry){setContent(entry.content||'');setMood(entry.mood||5);setEmotions(entry.emotions||[]);}},[entry]);const handleEmotionToggle=emotion=>{setEmotions(prev=>prev.includes(emotion)?prev.filter(e=>e!==emotion):[...prev,emotion]);};const handleSubmit=async e=>{e.preventDefault();if(!content.trim()){alert('Please write something in your journal entry.');return;}setLoading(true);try{const entryData={content:content.trim(),mood,emotions,createdAt:(entry===null||entry===void 0?void 0:entry.createdAt)||new Date().toISOString()};await onSave(entryData);}catch(error){console.error('Error saving entry:',error);alert('Failed to save entry. Please try again.');}finally{setLoading(false);}};const handleCancel=()=>{if(content.trim()&&!window.confirm('Are you sure you want to cancel? Your changes will be lost.')){return;}onCancel();};return/*#__PURE__*/_jsxs(\"form\",{className:\"journal-entry-form\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-header\",children:[/*#__PURE__*/_jsx(\"h2\",{children:isNew?'New Journal Entry':'Edit Entry'}),/*#__PURE__*/_jsx(\"p\",{children:isNew?'Capture your thoughts and feelings':'Update your entry'})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-content\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"form-section\",children:/*#__PURE__*/_jsx(MoodSlider,{value:mood,onChange:setMood,disabled:loading})}),/*#__PURE__*/_jsx(\"div\",{className:\"form-section\",children:/*#__PURE__*/_jsx(TextArea,{value:content,onChange:setContent,placeholder:\"How was your day? What's on your mind? Share your thoughts and feelings...\",disabled:loading})}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-section\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"emotions-label\",children:\"What emotions are you feeling? (Optional)\"}),/*#__PURE__*/_jsx(\"div\",{className:\"emotions-grid\",children:EMOTIONS_LIST.map(emotion=>/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"emotion-chip \".concat(emotions.includes(emotion)?'selected':''),onClick:()=>handleEmotionToggle(emotion),disabled:loading,children:emotion},emotion))})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-actions\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-secondary\",onClick:handleCancel,disabled:loading,children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary\",disabled:loading||!content.trim(),children:loading?'Saving...':isNew?'Save Entry':'Update Entry'})]})]});};export default JournalEntryForm;","map":{"version":3,"names":["React","useState","useEffect","TextArea","MoodSlider","EMOTIONS_LIST","jsx","_jsx","jsxs","_jsxs","JournalEntryForm","_ref","entry","onSave","onCancel","isNew","isEditing","content","setContent","mood","setMood","emotions","setEmotions","loading","setLoading","handleEmotionToggle","emotion","prev","includes","filter","e","handleSubmit","preventDefault","trim","alert","entryData","createdAt","Date","toISOString","error","console","handleCancel","window","confirm","className","onSubmit","children","value","onChange","disabled","placeholder","map","type","concat","onClick"],"sources":["C:/Users/Mayur/OneDrive/Desktop/Moodmate/Frontend/src/components/journal/JournalEntryForm.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport TextArea from './TextArea';\r\nimport MoodSlider from './MoodSlider';\r\nimport { EMOTIONS_LIST } from '../../utils/constants';\r\nimport './JournalEntryForm.css';\r\n\r\nconst JournalEntryForm = ({\r\n    entry = null,\r\n    onSave,\r\n    onCancel,\r\n    isNew = false,\r\n    isEditing = false\r\n}) => {\r\n    const [content, setContent] = useState('');\r\n    const [mood, setMood] = useState(5);\r\n    const [emotions, setEmotions] = useState([]);\r\n    const [loading, setLoading] = useState(false);\r\n\r\n    useEffect(() => {\r\n        if (entry) {\r\n            setContent(entry.content || '');\r\n            setMood(entry.mood || 5);\r\n            setEmotions(entry.emotions || []);\r\n        }\r\n    }, [entry]);\r\n\r\n    const handleEmotionToggle = (emotion) => {\r\n        setEmotions(prev => \r\n            prev.includes(emotion)\r\n                ? prev.filter(e => e !== emotion)\r\n                : [...prev, emotion]\r\n        );\r\n    };\r\n\r\n    const handleSubmit = async (e) => {\r\n        e.preventDefault();\r\n        \r\n        if (!content.trim()) {\r\n            alert('Please write something in your journal entry.');\r\n            return;\r\n        }\r\n\r\n        setLoading(true);\r\n        try {\r\n            const entryData = {\r\n                content: content.trim(),\r\n                mood,\r\n                emotions,\r\n                createdAt: entry?.createdAt || new Date().toISOString()\r\n            };\r\n\r\n            await onSave(entryData);\r\n        } catch (error) {\r\n            console.error('Error saving entry:', error);\r\n            alert('Failed to save entry. Please try again.');\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    const handleCancel = () => {\r\n        if (content.trim() && !window.confirm('Are you sure you want to cancel? Your changes will be lost.')) {\r\n            return;\r\n        }\r\n        onCancel();\r\n    };\r\n\r\n    return (\r\n        <form className=\"journal-entry-form\" onSubmit={handleSubmit}>\r\n            <div className=\"form-header\">\r\n                <h2>{isNew ? 'New Journal Entry' : 'Edit Entry'}</h2>\r\n                <p>{isNew ? 'Capture your thoughts and feelings' : 'Update your entry'}</p>\r\n            </div>\r\n\r\n            <div className=\"form-content\">\r\n                {/* Mood Slider */}\r\n                <div className=\"form-section\">\r\n                    <MoodSlider\r\n                        value={mood}\r\n                        onChange={setMood}\r\n                        disabled={loading}\r\n                    />\r\n                </div>\r\n\r\n                {/* Text Area */}\r\n                <div className=\"form-section\">\r\n                    <TextArea\r\n                        value={content}\r\n                        onChange={setContent}\r\n                        placeholder=\"How was your day? What's on your mind? Share your thoughts and feelings...\"\r\n                        disabled={loading}\r\n                    />\r\n                </div>\r\n\r\n                {/* Emotions */}\r\n                <div className=\"form-section\">\r\n                    <label className=\"emotions-label\">\r\n                        What emotions are you feeling? (Optional)\r\n                    </label>\r\n                    <div className=\"emotions-grid\">\r\n                        {EMOTIONS_LIST.map(emotion => (\r\n                            <button\r\n                                key={emotion}\r\n                                type=\"button\"\r\n                                className={`emotion-chip ${emotions.includes(emotion) ? 'selected' : ''}`}\r\n                                onClick={() => handleEmotionToggle(emotion)}\r\n                                disabled={loading}\r\n                            >\r\n                                {emotion}\r\n                            </button>\r\n                        ))}\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"form-actions\">\r\n                <button\r\n                    type=\"button\"\r\n                    className=\"btn btn-secondary\"\r\n                    onClick={handleCancel}\r\n                    disabled={loading}\r\n                >\r\n                    Cancel\r\n                </button>\r\n                <button\r\n                    type=\"submit\"\r\n                    className=\"btn btn-primary\"\r\n                    disabled={loading || !content.trim()}\r\n                >\r\n                    {loading ? 'Saving...' : (isNew ? 'Save Entry' : 'Update Entry')}\r\n                </button>\r\n            </div>\r\n        </form>\r\n    );\r\n};\r\n\r\nexport default JournalEntryForm;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}