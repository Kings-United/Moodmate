{"ast":null,"code":"import React,{useState}from'react';import{useJournal}from'../hooks/useJournal';import{useAuth}from'../hooks/useAuth';import JournalEntryForm from'../components/journal/JournalEntryForm';import EntryList from'../components/journal/EntryList';import LoadingSpinner from'../components/common/LoadingSpinner';import'./Journal.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Journal=()=>{const{user}=useAuth();const{entries,loading,addEntry,updateEntry,deleteEntry}=useJournal();const[showNewEntry,setShowNewEntry]=useState(false);const[editingEntry,setEditingEntry]=useState(null);const handleSaveEntry=async entryData=>{try{if(editingEntry){await updateEntry(editingEntry.id,entryData);setEditingEntry(null);}else{await addEntry(entryData);setShowNewEntry(false);}}catch(error){console.error('Error saving entry:',error);}};const handleEditEntry=entry=>{setEditingEntry(entry);setShowNewEntry(false);};const handleDeleteEntry=async entryId=>{if(window.confirm('Are you sure you want to delete this entry?')){try{await deleteEntry(entryId);}catch(error){console.error('Error deleting entry:',error);}}};const handleCancelEdit=()=>{setEditingEntry(null);setShowNewEntry(false);};if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"journal-page\",children:/*#__PURE__*/_jsx(LoadingSpinner,{})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"journal-page\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"journal-header\",children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Journal\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Capture your thoughts and track your mood\"}),!showNewEntry&&!editingEntry&&/*#__PURE__*/_jsx(\"button\",{className:\"new-entry-btn\",onClick:()=>setShowNewEntry(true),children:\"\\u270F\\uFE0F New Entry\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"journal-content\",children:[showNewEntry&&/*#__PURE__*/_jsx(\"div\",{className:\"entry-form-container\",children:/*#__PURE__*/_jsx(JournalEntryForm,{onSave:handleSaveEntry,onCancel:handleCancelEdit,isNew:true})}),editingEntry&&/*#__PURE__*/_jsx(\"div\",{className:\"entry-form-container\",children:/*#__PURE__*/_jsx(JournalEntryForm,{entry:editingEntry,onSave:handleSaveEntry,onCancel:handleCancelEdit,isEditing:true})}),/*#__PURE__*/_jsxs(\"div\",{className:\"entries-section\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Your Entries\"}),entries.length>0?/*#__PURE__*/_jsx(EntryList,{entries:entries,onEdit:handleEditEntry,onDelete:handleDeleteEntry}):/*#__PURE__*/_jsxs(\"div\",{className:\"empty-state\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"empty-icon\",children:\"\\uD83D\\uDCDD\"}),/*#__PURE__*/_jsx(\"h3\",{children:\"No entries yet\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Start your journaling journey by creating your first entry\"}),/*#__PURE__*/_jsx(\"button\",{className:\"start-journaling-btn\",onClick:()=>setShowNewEntry(true),children:\"Start Journaling\"})]})]})]})]});};export default Journal;","map":{"version":3,"names":["React","useState","useJournal","useAuth","JournalEntryForm","EntryList","LoadingSpinner","jsx","_jsx","jsxs","_jsxs","Journal","user","entries","loading","addEntry","updateEntry","deleteEntry","showNewEntry","setShowNewEntry","editingEntry","setEditingEntry","handleSaveEntry","entryData","id","error","console","handleEditEntry","entry","handleDeleteEntry","entryId","window","confirm","handleCancelEdit","className","children","onClick","onSave","onCancel","isNew","isEditing","length","onEdit","onDelete"],"sources":["C:/Users/Mayur/OneDrive/Desktop/Moodmate/Frontend/src/pages/Journal.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { useJournal } from '../hooks/useJournal';\r\nimport { useAuth } from '../hooks/useAuth';\r\nimport JournalEntryForm from '../components/journal/JournalEntryForm';\r\nimport EntryList from '../components/journal/EntryList';\r\nimport LoadingSpinner from '../components/common/LoadingSpinner';\r\nimport './Journal.css';\r\n\r\nconst Journal = () => {\r\n    const { user } = useAuth();\r\n    const { entries, loading, addEntry, updateEntry, deleteEntry } = useJournal();\r\n    const [showNewEntry, setShowNewEntry] = useState(false);\r\n    const [editingEntry, setEditingEntry] = useState(null);\r\n\r\n    const handleSaveEntry = async (entryData) => {\r\n        try {\r\n            if (editingEntry) {\r\n                await updateEntry(editingEntry.id, entryData);\r\n                setEditingEntry(null);\r\n            } else {\r\n                await addEntry(entryData);\r\n                setShowNewEntry(false);\r\n            }\r\n        } catch (error) {\r\n            console.error('Error saving entry:', error);\r\n        }\r\n    };\r\n\r\n    const handleEditEntry = (entry) => {\r\n        setEditingEntry(entry);\r\n        setShowNewEntry(false);\r\n    };\r\n\r\n    const handleDeleteEntry = async (entryId) => {\r\n        if (window.confirm('Are you sure you want to delete this entry?')) {\r\n            try {\r\n                await deleteEntry(entryId);\r\n            } catch (error) {\r\n                console.error('Error deleting entry:', error);\r\n            }\r\n        }\r\n    };\r\n\r\n    const handleCancelEdit = () => {\r\n        setEditingEntry(null);\r\n        setShowNewEntry(false);\r\n    };\r\n\r\n    if (loading) {\r\n        return (\r\n            <div className=\"journal-page\">\r\n                <LoadingSpinner />\r\n            </div>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <div className=\"journal-page\">\r\n            <div className=\"journal-header\">\r\n                <h1>Journal</h1>\r\n                <p>Capture your thoughts and track your mood</p>\r\n                {!showNewEntry && !editingEntry && (\r\n                    <button \r\n                        className=\"new-entry-btn\"\r\n                        onClick={() => setShowNewEntry(true)}\r\n                    >\r\n                        ‚úèÔ∏è New Entry\r\n                    </button>\r\n                )}\r\n            </div>\r\n\r\n            <div className=\"journal-content\">\r\n                {/* New Entry Form */}\r\n                {showNewEntry && (\r\n                    <div className=\"entry-form-container\">\r\n                        <JournalEntryForm\r\n                            onSave={handleSaveEntry}\r\n                            onCancel={handleCancelEdit}\r\n                            isNew={true}\r\n                        />\r\n                    </div>\r\n                )}\r\n\r\n                {/* Edit Entry Form */}\r\n                {editingEntry && (\r\n                    <div className=\"entry-form-container\">\r\n                        <JournalEntryForm\r\n                            entry={editingEntry}\r\n                            onSave={handleSaveEntry}\r\n                            onCancel={handleCancelEdit}\r\n                            isEditing={true}\r\n                        />\r\n                    </div>\r\n                )}\r\n\r\n                {/* Entries List */}\r\n                <div className=\"entries-section\">\r\n                    <h2>Your Entries</h2>\r\n                    {entries.length > 0 ? (\r\n                        <EntryList\r\n                            entries={entries}\r\n                            onEdit={handleEditEntry}\r\n                            onDelete={handleDeleteEntry}\r\n                        />\r\n                    ) : (\r\n                        <div className=\"empty-state\">\r\n                            <div className=\"empty-icon\">üìù</div>\r\n                            <h3>No entries yet</h3>\r\n                            <p>Start your journaling journey by creating your first entry</p>\r\n                            <button \r\n                                className=\"start-journaling-btn\"\r\n                                onClick={() => setShowNewEntry(true)}\r\n                            >\r\n                                Start Journaling\r\n                            </button>\r\n                        </div>\r\n                    )}\r\n                </div>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Journal;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}