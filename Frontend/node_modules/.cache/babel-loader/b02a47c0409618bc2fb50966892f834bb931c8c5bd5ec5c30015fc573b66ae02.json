{"ast":null,"code":"import axios from'axios';import{auth}from'./firebase';const API_URL=process.env.REACT_APP_API_URL||'http://localhost:3001/api';// Create axios instance\nconst api=axios.create({baseURL:API_URL,timeout:30000});// Request interceptor to add auth token\napi.interceptors.request.use(async config=>{const user=auth.currentUser;if(user){const token=await user.getIdToken();config.headers.Authorization=\"Bearer \".concat(token);}return config;},error=>{return Promise.reject(error);});// Response interceptor for error handling\napi.interceptors.response.use(response=>response,error=>{var _error$response;if(((_error$response=error.response)===null||_error$response===void 0?void 0:_error$response.status)===401){// Token expired or invalid\nauth.signOut();}return Promise.reject(error);});// Auth API\nexport const authAPI={register:userData=>api.post('/auth/register',userData),login:()=>api.post('/auth/login'),getProfile:()=>api.get('/auth/profile'),updateProfile:userData=>api.put('/auth/profile',userData)};// Journal API\nexport const journalAPI={createEntry:entryData=>api.post('/journal',entryData),getEntries:limit=>api.get(\"/journal?limit=\".concat(limit||50)),getEntry:id=>api.get(\"/journal/\".concat(id)),updateEntry:(id,entryData)=>api.put(\"/journal/\".concat(id),entryData),deleteEntry:id=>api.delete(\"/journal/\".concat(id))};// AI API\nexport const aiAPI={analyzeSentiment:text=>api.post('/ai/sentiment',{text}),generateResponse:data=>api.post('/ai/response',data),getCrisisSupport:()=>api.get('/ai/crisis-support')};// Insights API\nexport const insightsAPI={getMoodTrends:days=>api.get(\"/insights/mood-trends?days=\".concat(days||30)),getEmotionAnalysis:days=>api.get(\"/insights/emotions?days=\".concat(days||30)),getInsights:()=>api.get('/insights/summary')};export default api;","map":{"version":3,"names":["axios","auth","API_URL","process","env","REACT_APP_API_URL","api","create","baseURL","timeout","interceptors","request","use","config","user","currentUser","token","getIdToken","headers","Authorization","concat","error","Promise","reject","response","_error$response","status","signOut","authAPI","register","userData","post","login","getProfile","get","updateProfile","put","journalAPI","createEntry","entryData","getEntries","limit","getEntry","id","updateEntry","deleteEntry","delete","aiAPI","analyzeSentiment","text","generateResponse","data","getCrisisSupport","insightsAPI","getMoodTrends","days","getEmotionAnalysis","getInsights"],"sources":["C:/Users/Mayur/OneDrive/Desktop/Moodmate/Frontend/src/services/api.js"],"sourcesContent":["import axios from 'axios';\r\nimport { auth } from './firebase';\r\n\r\nconst API_URL = process.env.REACT_APP_API_URL || 'http://localhost:3001/api';\r\n\r\n// Create axios instance\r\nconst api = axios.create({\r\n    baseURL: API_URL,\r\n    timeout: 30000,\r\n});\r\n\r\n// Request interceptor to add auth token\r\napi.interceptors.request.use(\r\n    async (config) => {\r\n        const user = auth.currentUser;\r\n        if (user) {\r\n            const token = await user.getIdToken();\r\n            config.headers.Authorization = `Bearer ${token}`;\r\n        }\r\n        return config;\r\n    },\r\n    (error) => {\r\n        return Promise.reject(error);\r\n    }\r\n);\r\n\r\n// Response interceptor for error handling\r\napi.interceptors.response.use(\r\n    (response) => response,\r\n    (error) => {\r\n        if (error.response?.status === 401) {\r\n            // Token expired or invalid\r\n            auth.signOut();\r\n        }\r\n        return Promise.reject(error);\r\n    }\r\n);\r\n\r\n// Auth API\r\nexport const authAPI = {\r\n    register: (userData) => api.post('/auth/register', userData),\r\n    login: () => api.post('/auth/login'),\r\n    getProfile: () => api.get('/auth/profile'),\r\n    updateProfile: (userData) => api.put('/auth/profile', userData),\r\n};\r\n\r\n// Journal API\r\nexport const journalAPI = {\r\n    createEntry: (entryData) => api.post('/journal', entryData),\r\n    getEntries: (limit) => api.get(`/journal?limit=${limit || 50}`),\r\n    getEntry: (id) => api.get(`/journal/${id}`),\r\n    updateEntry: (id, entryData) => api.put(`/journal/${id}`, entryData),\r\n    deleteEntry: (id) => api.delete(`/journal/${id}`),\r\n};\r\n\r\n// AI API\r\nexport const aiAPI = {\r\n    analyzeSentiment: (text) => api.post('/ai/sentiment', { text }),\r\n    generateResponse: (data) => api.post('/ai/response', data),\r\n    getCrisisSupport: () => api.get('/ai/crisis-support'),\r\n};\r\n\r\n// Insights API\r\nexport const insightsAPI = {\r\n    getMoodTrends: (days) => api.get(`/insights/mood-trends?days=${days || 30}`),\r\n    getEmotionAnalysis: (days) => api.get(`/insights/emotions?days=${days || 30}`),\r\n    getInsights: () => api.get('/insights/summary'),\r\n};\r\n\r\nexport default api;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}