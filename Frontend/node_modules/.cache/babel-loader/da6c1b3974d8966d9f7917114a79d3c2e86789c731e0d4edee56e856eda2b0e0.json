{"ast":null,"code":"import React,{useState}from'react';import{format}from'date-fns';import{MOOD_COLORS,MOOD_LABELS}from'../../utils/constants';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const JournalEntry=_ref=>{let{entry,onEdit,onDelete,isExpanded=false}=_ref;const[expanded,setExpanded]=useState(isExpanded);const[showActions,setShowActions]=useState(false);const handleToggleExpand=()=>{setExpanded(!expanded);};const handleEdit=()=>{onEdit(entry);};const handleDelete=()=>{if(window.confirm('Are you sure you want to delete this entry?')){onDelete(entry.id);}};const truncateText=function(text){let maxLength=arguments.length>1&&arguments[1]!==undefined?arguments[1]:150;if(text.length<=maxLength)return text;return text.substring(0,maxLength)+'...';};return/*#__PURE__*/_jsxs(\"div\",{className:\"journal-entry \".concat(expanded?'journal-entry--expanded':''),onMouseEnter:()=>setShowActions(true),onMouseLeave:()=>setShowActions(false),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"journal-entry-header\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"journal-entry-meta\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"mood-indicator\",style:{backgroundColor:MOOD_COLORS[entry.mood]},title:\"Mood: \".concat(entry.mood,\"/10 - \").concat(MOOD_LABELS[entry.mood]),children:entry.mood}),/*#__PURE__*/_jsx(\"div\",{className:\"journal-entry-date\",children:format(new Date(entry.createdAt),'MMM dd, yyyy ‚Ä¢ h:mm a')})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"journal-entry-actions \".concat(showActions?'visible':''),children:[/*#__PURE__*/_jsx(\"button\",{className:\"action-button action-button--edit\",onClick:handleEdit,title:\"Edit entry\",children:\"\\u270F\\uFE0F\"}),/*#__PURE__*/_jsx(\"button\",{className:\"action-button action-button--delete\",onClick:handleDelete,title:\"Delete entry\",children:\"\\uD83D\\uDDD1\\uFE0F\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"journal-entry-content\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"journal-text\",children:expanded?entry.content:truncateText(entry.content)}),entry.content.length>150&&/*#__PURE__*/_jsx(\"button\",{className:\"expand-button\",onClick:handleToggleExpand,children:expanded?'Show less':'Read more'})]}),entry.emotions&&entry.emotions.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"journal-entry-emotions\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"emotions-label\",children:\"Emotions:\"}),/*#__PURE__*/_jsx(\"div\",{className:\"emotions-list\",children:entry.emotions.map((emotion,index)=>/*#__PURE__*/_jsx(\"span\",{className:\"emotion-tag\",children:emotion},index))})]}),entry.aiResponse&&expanded&&/*#__PURE__*/_jsxs(\"div\",{className:\"ai-response\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"ai-response-header\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"ai-icon\",children:\"\\uD83E\\uDD16\"}),/*#__PURE__*/_jsx(\"span\",{className:\"ai-label\",children:\"AI Response\"})]}),/*#__PURE__*/_jsx(\"p\",{className:\"ai-response-text\",children:entry.aiResponse})]})]});};export default JournalEntry;","map":{"version":3,"names":["React","useState","format","MOOD_COLORS","MOOD_LABELS","jsx","_jsx","jsxs","_jsxs","JournalEntry","_ref","entry","onEdit","onDelete","isExpanded","expanded","setExpanded","showActions","setShowActions","handleToggleExpand","handleEdit","handleDelete","window","confirm","id","truncateText","text","maxLength","arguments","length","undefined","substring","className","concat","onMouseEnter","onMouseLeave","children","style","backgroundColor","mood","title","Date","createdAt","onClick","content","emotions","map","emotion","index","aiResponse"],"sources":["C:/Users/Mayur/OneDrive/Desktop/Moodmate/Frontend/src/components/journal/JournalEntry.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport { format } from 'date-fns';\r\nimport { MOOD_COLORS, MOOD_LABELS } from '../../utils/constants';\r\n\r\nconst JournalEntry = ({\r\n    entry,\r\n    onEdit,\r\n    onDelete,\r\n    isExpanded = false\r\n}) => {\r\n    const [expanded, setExpanded] = useState(isExpanded);\r\n    const [showActions, setShowActions] = useState(false);\r\n\r\n    const handleToggleExpand = () => {\r\n        setExpanded(!expanded);\r\n    };\r\n\r\n    const handleEdit = () => {\r\n        onEdit(entry);\r\n    };\r\n\r\n    const handleDelete = () => {\r\n        if (window.confirm('Are you sure you want to delete this entry?')) {\r\n            onDelete(entry.id);\r\n        }\r\n    };\r\n\r\n    const truncateText = (text, maxLength = 150) => {\r\n        if (text.length <= maxLength) return text;\r\n        return text.substring(0, maxLength) + '...';\r\n    };\r\n\r\n    return (\r\n        <div\r\n            className={`journal-entry ${expanded ? 'journal-entry--expanded' : ''}`}\r\n            onMouseEnter={() => setShowActions(true)}\r\n            onMouseLeave={() => setShowActions(false)}\r\n        >\r\n            <div className=\"journal-entry-header\">\r\n                <div className=\"journal-entry-meta\">\r\n                    <div\r\n                        className=\"mood-indicator\"\r\n                        style={{ backgroundColor: MOOD_COLORS[entry.mood] }}\r\n                        title={`Mood: ${entry.mood}/10 - ${MOOD_LABELS[entry.mood]}`}\r\n                    >\r\n                        {entry.mood}\r\n                    </div>\r\n                    <div className=\"journal-entry-date\">\r\n                        {format(new Date(entry.createdAt), 'MMM dd, yyyy ‚Ä¢ h:mm a')}\r\n                    </div>\r\n                </div>\r\n\r\n                <div className={`journal-entry-actions ${showActions ? 'visible' : ''}`}>\r\n                    <button\r\n                        className=\"action-button action-button--edit\"\r\n                        onClick={handleEdit}\r\n                        title=\"Edit entry\"\r\n                    >\r\n                        ‚úèÔ∏è\r\n                    </button>\r\n                    <button\r\n                        className=\"action-button action-button--delete\"\r\n                        onClick={handleDelete}\r\n                        title=\"Delete entry\"\r\n                    >\r\n                        üóëÔ∏è\r\n                    </button>\r\n                </div>\r\n            </div>\r\n\r\n            <div className=\"journal-entry-content\">\r\n                <p className=\"journal-text\">\r\n                    {expanded ? entry.content : truncateText(entry.content)}\r\n                </p>\r\n\r\n                {entry.content.length > 150 && (\r\n                    <button\r\n                        className=\"expand-button\"\r\n                        onClick={handleToggleExpand}\r\n                    >\r\n                        {expanded ? 'Show less' : 'Read more'}\r\n                    </button>\r\n                )}\r\n            </div>\r\n\r\n            {entry.emotions && entry.emotions.length > 0 && (\r\n                <div className=\"journal-entry-emotions\">\r\n                    <span className=\"emotions-label\">Emotions:</span>\r\n                    <div className=\"emotions-list\">\r\n                        {entry.emotions.map((emotion, index) => (\r\n                            <span key={index} className=\"emotion-tag\">\r\n                                {emotion}\r\n                            </span>\r\n                        ))}\r\n                    </div>\r\n                </div>\r\n            )}\r\n\r\n            {entry.aiResponse && expanded && (\r\n                <div className=\"ai-response\">\r\n                    <div className=\"ai-response-header\">\r\n                        <span className=\"ai-icon\">ü§ñ</span>\r\n                        <span className=\"ai-label\">AI Response</span>\r\n                    </div>\r\n                    <p className=\"ai-response-text\">{entry.aiResponse}</p>\r\n                </div>\r\n            )}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default JournalEntry;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}